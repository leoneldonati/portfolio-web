---
import type { GitHubProject } from '../interfaces'
interface Props {
  repo: GitHubProject
}

const { repo } = Astro.props

const {
  createdAt,
  description,
  forksCount,
  homepage,
  htmlUrl,
  id,
  language,
  name,
  pushedAt,
  stargazersCount
} = repo
const timestamp = new Date(pushedAt).toLocaleDateString()

---

<article transition:name={`article ${id}`} class="flex flex-col border border-slate-300 p-4 rounded-lg bg-[rgba(33,33,33,.8)]">
  <div class="flex justify-between items-baseline">
    <h3 transition:animate="slide" transition:name={`title ${id}`} class="font-bold capitalize text-[rgba(255,189,51,.8)] text-xl">{name}</h3>
    <span class="text-slate-400">Last push: {timestamp}</span>
  </div>

  <div class="flex flex-col items-baseline gap-4 mt-5 [&>a]:block [&>a]:border-b [&>a]:border-slate-300 [&>a:active]:scale-95 [&>a:hover]:scale-105 [&>a]:transition text-white">
    <a class="hover:text-[rgba(255,189,51,.8)]" href={`/projects/${id}`} title={`View more info for ${name}`}>View project info</a>
    <a href={htmlUrl} target="_blank" rel="noreferrer noopener" title={`Go to repository ${name}`} >Go to {name}</a>
  </div>
</article>