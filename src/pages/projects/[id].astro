---
import Layout from "../../layouts/Layout.astro";
import { getOneRepo } from "../../services/github";
const { id } = Astro.params;

const repo = getOneRepo(Number(id));
const pushDate =
  repo?.pushedAt && new Date(repo?.pushedAt).toLocaleDateString();
const createdDate =
  repo?.createdAt && new Date(repo?.createdAt).toLocaleDateString();
---

<Layout title="Projects">
  <section
  transition:name=`article ${repo?.id}`
  class="bg-black flex flex-col p-4 max-w-6xl mx-auto translate-y-[60%] rounded-xl shadow-md shadow-[rgba(33,33,33,.8)]"

  >
    <div class="grid grid-cols-2 grid-rows-2 place-items-baseline">
      <h3
        transition:name=`title ${repo?.id}`
        class="font-bold row-span-1 capitalize text-[rgba(255,189,51,.8)] text-3xl"
      >
        {repo?.name}
      </h3>
      <span class="text-slate-400 row-span-1 text-xl">Last push: {pushDate}</span>

      <p class="text-white text-xl row-span-2 col-span-2 mt-1"><span class="text-slate-400">- Little description:</span>{' '} {repo?.description}</p>
    </div>

    <ul class="text-white">
      <li>- Created at: {createdDate}</li>
      <li>- Stars: {repo?.forksCount}</li>
      <li>- Language: <span>{repo?.language === null ? 'None' : repo?.language}</span></li>
      <li></li>
    </ul>
    <div
      class="flex flex-col items-baseline gap-4 mt-5 [&>a]:block [&>a]:border-b [&>a]:border-slate-300 [&>a:hover]:scale-105 [&>a]:transition text-white"
    >
      <a class="hover:text-[rgba(255,189,51,.8)]" href="/projects" >Go back</a>
      <a
        href={repo?.htmlUrl}
        target="_blank"
        rel="noreferrer noopener"
        title={`Go to repository ${repo?.name}`}
        
      >Go to {repo?.name}</a
      >
    </div>
  </section>
</Layout>
